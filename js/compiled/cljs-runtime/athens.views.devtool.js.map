{"version":3,"sources":["athens/views/devtool.cljs"],"mappings":"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","names":["athens.views.devtool/container-style","athens.style.color","athens.views.devtool/tabs-style","athens.views.devtool/tabs-section-style","athens.views.devtool/panels-style","athens.views.devtool/current-location-style","athens.views.devtool/current-location-name-style","athens.views.devtool/current-location-controls-style","athens.views.devtool/devtool-table-style","athens.views.devtool/edn-viewer-style","athens.views.devtool/query-input-style","cljs.core.merge","athens.views.textinput/textinput-style","athens.views.devtool/initial-state","js/athens","js/athens.views","js/athens.views.devtool","js/athens.views.devtool.state*","athens.views.devtool/state*","reagent.core.atom","athens.views.devtool/ds-nav-impl","_","k","v","pred__60913","expr__60914","cljs.core/=","G__60916","cljs.core/deref","G__60917","G__60918","datascript.core/pull","athens.db/dsdb","athens.views.devtool/restore-db!","db","datascript.core.reset_conn_BANG_","cljs.core/PROTOCOL_SENTINEL","cljs.core/PersistentHashMap","this","cljs.core/with-meta","cljs.core/PersistentArrayMap","datascript.db/TxReport","cljs.core.into","datascript.db/Datom","cljs.core/vec","datascript.db/DB","me.tonsky.persistent-sorted-set/BTSet","athens.views.devtool/data-table","limit","headers","rows","add-nav!","stylefy.core.use_style","iter__4529__auto__","s__60920","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4527__auto__","size__4528__auto__","cljs.core/count","b__60922","cljs.core/chunk-buffer","i__60921","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__60919","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","h","cljs.core.doall","s__60924","b__60926","i__60925","iter__60923","row","cljs.core.take","G__60927","G__60932","cljs.core/meta","s__60929","b__60931","i__60930","iter__60928","s__60934","b__60936","i__60935","iter__60933","i","cljs.core.range","cell","cljs.core.get","cljs.core.pr_str","athens.views.buttons/button","cljs.core.swap_BANG_","cljs.core/+","athens.views.devtool/edn-viewer","data","sb__4667__auto__","goog.string/StringBuffer","*print-newline*-orig-val__60937","cljs.core/*print-newline*","*print-fn*-orig-val__60938","cljs.core/*print-fn*","*print-newline*-temp-val__60939","*print-fn*-temp-val__60940","x__4668__auto__","cljs.pprint.pprint","athens.views.devtool/coll-viewer","coll","cljs.core.map_indexed","idx","item","athens.views.devtool/map-viewer","m","cljs.core.map","p__60941","vec__60942","cljs.core.nth","athens.views.devtool/maps-viewer","ms","cljs.core.mapcat","cljs.core/keys","cljs.core.distinct","s__60946","b__60948","i__60947","iter__60945","athens.views.devtool/tuples-viewer","colls","max-count","cljs.core.apply","cljs.core/max","s__60950","b__60952","i__60951","iter__60949","athens.views.devtool/associative-not-sequential?","x","cljs.core/associative?","cljs.core/sequential?","athens.views.devtool/sequence-of-maps?","cljs.core/every?","cljs.core/map?","athens.views.devtool/tuples?","athens.views.devtool/viewers","cljs.core/constantly","cljs.core/coll?","athens.views.devtool/viewer-preference","athens.views.devtool/applicable-viewers","cljs.core.filter","p__60954","map__60955","cljs.core/hash-map","pred","p1__60953#","cljs.core.sort_by","athens.views.devtool/indexed-viewers","cljs.core.juxt","cljs.core/identity","athens.views.devtool/data-browser","state","p1__60957#","navs","cljs.core/update","cljs.core/conj","navved-data","cljs.core.reduce","p__60958","vec__60959","d","clojure.datafy/nav","clojure.datafy/datafy","datafied-data","applicable-vs","viewer-name","or__4126__auto__","viewer","cljs.core.get_in","s__60963","b__60965","i__60964","iter__60962","nav","s","cljs.core.update","cljs.core/subvec","cljs.core.dissoc","js/module$node_modules$$material_ui$icons$index.ChevronLeft","cljs.core/type","s__60967","b__60969","i__60968","iter__60966","click-fn","cljs.core/assoc","cljs.core._EQ_","cljs.core/name","datascript.core/db?","athens.views.devtool/handler","n","n-child","datascript.core.transact_BANG_","p__60970","map__60971","athens.views.devtool/eval-with-sci","eval-str","vec__60973","bindings","datascript.core/q","datascript.core/pull-many","datascript.core/entity","ok?","result","e60976","sci.core.eval_string","js/Error","e","cljs.core.assoc","cljs.core/not","athens.views.devtool/eval-box!","athens.views.devtool/update-box!","athens.views.devtool/listener","tx-report","athens.views.devtool/handle-box-change!","athens.views.devtool/handle-shift-return!","athens.views.devtool/insert-tab","pos","cljs.core.subs","athens.views.devtool/handle-tab-key!","t","athens.views.devtool/handle-box-key-down!","key","shift?","goog.events.KeyCodes/ENTER","goog.events.KeyCodes/TAB","athens.views.devtool/error-component","error","p__60977","map__60978","athens.views.devtool/query-component","komponentit.autosize/textarea","p__60980","map__60981","athens.views.devtool/txes-component","tx-reports","athens.views.devtool/devtool-prompt-el","re-frame.core/dispatch","js/module$node_modules$$material_ui$icons$index.Build","athens.views.devtool/devtool-close-el","js/module$node_modules$$material_ui$icons$index.Clear","athens.views.devtool/devtool-el","devtool?","map__60983","active-panel","switch-panel","panel","js/module$node_modules$$material_ui$icons$index.ShortText","js/module$node_modules$$material_ui$icons$index.History","G__60985","cljs.core/Keyword","athens.views.devtool/devtool-component","re_frame.core.subscribe","cljs.core/chunk-first"],"sourcesContent":["(ns athens.views.devtool\n  (:require\n    [\"@material-ui/icons\" :as mui-icons]\n    [athens.db :as db :refer [dsdb]]\n    [athens.style :refer [color]]\n    [athens.views.buttons :refer [button]]\n    [athens.views.textinput :refer [textinput-style]]\n    [cljs.pprint :as pp]\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [clojure.core.protocols :as core-p]\n    [clojure.datafy :refer [nav datafy]]\n    [datascript.core :as d]\n    [datascript.db]\n    [komponentit.autosize :as autosize]\n    [me.tonsky.persistent-sorted-set]\n    [re-frame.core :refer [subscribe dispatch]]\n    [reagent.core :as r]\n    [reagent.ratom]\n    [sci.core :as sci]\n    [stylefy.core :as stylefy :refer [use-style]])\n  (:import\n    (goog.events\n      KeyCodes)))\n\n\n;;; Styles\n\n\n(def container-style\n  {:grid-area     \"devtool\"\n   :flex-direction \"column\"\n   :background    (color :background-minus-1)\n   :position      \"relative\"\n   :width         \"100vw\"\n   :height        \"33vh\"\n   :display       \"flex\"\n   :overflow-y    \"auto\"\n   :right         0\n   :z-index       2})\n\n\n(def tabs-style\n  {:padding         \"0 0.5rem\"\n   :flex            \"0 0 auto\"\n   :background      (color :background-minus-1)\n   :display         \"flex\"\n   :align-items     \"stretch\"\n   :justify-content \"space-between\"\n   ::stylefy/manual [[:button {:border-radius \"0\"}]]})\n\n\n(def tabs-section-style\n  {:display \"flex\"\n   :align-items \"stretch\"})\n\n\n(def panels-style\n  {:overflow-y \"auto\"\n   :padding \"0.5rem\"})\n\n\n(def current-location-style\n  {:display       \"flex\"\n   :align-items   \"center\"\n   :flex          \"1 1 100%\"\n   :font-size     \"14px\"\n   :border-bottom [[\"1px solid\" (color :background-minus-1) 10]]})\n\n\n(def current-location-name-style\n  {:font-weight \"bold\"\n   :font-size \"inherit\"\n   :margin-block \"0\"\n   :margin-inline-start \"1em\"\n   :margin-inline-end \"1em\"})\n\n\n(def current-location-controls-style {:margin-inline-start \"1em\"})\n\n\n(def devtool-table-style\n  {:border-collapse \"collapse\"\n   :font-size       \"12px\"\n   :font-family     \"IBM Plex Sans Condensed\"\n   :letter-spacing  \"-0.01em\"\n   :margin          \"0.5rem 0 0\"\n   :border-spacing  \"0\"\n   :min-width       \"100%\"\n   ::stylefy/manual [[:td {:border-top [[\"1px solid \" (color :border-color)]]\n                           :padding    \"0.125rem\"}]\n                     [:tbody {:vertical-align \"top\"}]\n                     [:th {:text-align \"left\" :padding \"0.125rem 0.125rem\" :white-space \"nowrap\"}]\n                     [:tr {:transition \"all 0.05s ease\"}]\n                     [:td:first-child :th:first-child {:padding-left \"0.5rem\"}]\n                     [:td:last-child :th-last-child {:padding-right \"0.5rem\"}]\n                     [:tbody [:tr:hover {:cursor     \"pointer\"\n                                         :background (color :background-minus-1)\n                                         :color (color :header-text-color)}]]\n                     [:td>ul {:padding    \"0\"\n                              :margin     \"0\"\n                              :list-style \"none\"}]\n                     [:td [:li {:margin      \"0 0 0.25rem\"\n                                :padding-top \"0.25rem\" ;\n                                :border-top  (str \"1px solid \" (color :border-color))}]]\n                     [:td [:li:first-child {:border-top \"none\" :margin-top \"0\" :padding-top \"0\"}]]\n                     [:a {:color (color :link-color)}]\n                     [:a:hover {:text-decoration \"underline\"}]]})\n\n\n(def edn-viewer-style {:font-size \"12px\"})\n\n\n(def query-input-style\n  (merge textinput-style {:width \"100%\"\n                          :min-height \"2.5rem\"\n                          :font-size \"12px\"\n                          :background (color :background-color)\n                          :font-family \"IBM Plex Mono\"}))\n\n\n;;; Components\n\n\n(def initial-state\n  {:eval-str\n   \"(d/q '[:find [(pull ?e [*]) ...]\n       :where [?e :node/title]]\n    @athens/db)\"\n   :tx-reports []\n   :active-panel :query})\n\n\n(defonce state* (r/atom initial-state))\n\n\n(defn ds-nav-impl\n  [_ k v]\n  (condp = k\n    :db/id (d/pull @dsdb '[* :block/_children] v) ; TODO add inverse refs here\n    v)) ; TODO add unique idents here as well\n\n\n(defn restore-db!\n  [db]\n  (d/reset-conn! dsdb db {:time-travel true}))\n\n\n(extend-protocol core-p/Datafiable\n  cljs.core/PersistentHashMap\n  (datafy [this]\n    (with-meta this {`core-p/nav ds-nav-impl}))\n  cljs.core/PersistentArrayMap\n  (datafy [this]\n    (with-meta this {`core-p/nav ds-nav-impl}))\n  datascript.db/TxReport\n  (datafy [this]\n    (into {} this))\n  datascript.db/Datom\n  (datafy [this]\n    (vec this))\n  datascript.db/DB\n  (datafy [this]\n    (into {} this))\n  me.tonsky.persistent-sorted-set/BTSet\n  (datafy [this]\n    (vec this)))\n\n\n(defn data-table\n  [_ _ _]\n  (let [limit (r/atom 20)]\n    (fn [headers rows add-nav!]\n      [:div\n       [:table (use-style devtool-table-style)\n        [:thead\n         [:tr (for [h headers]\n                ^{:key h} [:th h])]]\n        [:tbody\n         (doall\n           (for [row (take @limit rows)]\n\n             ^{:key row}\n             [:tr {:on-click #(add-nav! [(first row)\n                                         (-> row meta :row-value)])}\n              (for [i (range (count row))]\n                (let [cell (get row i)]\n                  ^{:key (str row i cell)}\n                  [:td (if (nil? cell)\n                         \"\"\n                         (pr-str cell))]))]))]] ; use the edn-viewer here as well?\n       (when (< @limit (count rows))\n         [button {:on-click #(swap! limit + 10)\n                  :style {:width \"100%\"\n                          :justify-content \"center\"\n                          :margin \"0.25rem 0\"}}\n          \"Load More\"])])))\n\n\n; TODO add truncation of long strings here\n(defn edn-viewer\n  [data _]\n  [:pre (use-style edn-viewer-style) [:code (with-out-str (cljs.pprint/pprint data))]])\n\n\n(defn coll-viewer\n  [coll add-nav!]\n  [data-table [\"idx\" \"value\"]\n   (->> coll\n        (map-indexed (fn [idx item]\n                       (with-meta [idx item] {:row-value item})))\n        vec)\n   add-nav!])\n\n\n(defn map-viewer\n  [m add-nav!]\n  [data-table [\"key\" \"value\"]\n   (map (fn [[k v]] (with-meta [k v] {:row-value v})) m)\n   add-nav!])\n\n\n(defn maps-viewer\n  [ms add-nav!]\n  (let [headers (into [\"idx\"] (->> ms (mapcat keys) distinct))\n        rows (map-indexed (fn [idx m]\n                            (with-meta (into [idx]\n                                             (for [h (rest headers)] (get m h)))\n                              {:row-value m}))\n                          ms)]\n    [data-table headers rows add-nav!]))\n\n\n(defn tuples-viewer\n  [colls add-nav!]\n  (let [max-count (->> colls\n                       (map count)\n                       (apply max))\n        headers (into [\"idx\"] (range max-count))\n        rows (map-indexed (fn [idx coll]\n                            (with-meta (into [idx]\n                                             (for [i (range max-count)] (get coll i)))\n                              {:row-value coll})\n                            colls))]\n    [data-table headers rows add-nav!]))\n\n\n(defn associative-not-sequential?\n  [x]\n  (and (associative? x)\n       (not (sequential? x))))\n\n\n(defn sequence-of-maps?\n  [x]\n  (and (sequential? x)\n       (every? map? x)))\n\n\n(defn tuples?\n  [x]\n  (and (sequential? x)\n       (every? sequential? x)))\n\n\n(def viewers\n  [{:athens.viewer/id :athens.browser/edn\n    :athens.viewer/pred (constantly true)\n    :athens.viewer/fn edn-viewer}\n   {:athens.viewer/id :athens.browser/coll\n    :athens.viewer/pred coll?\n    :athens.viewer/fn coll-viewer}\n   {:athens.viewer/id :athens.browser/map\n    :athens.viewer/pred associative-not-sequential?\n    :athens.viewer/fn map-viewer}\n   {:athens.viewer/id :athens.browser/maps\n    :athens.viewer/pred sequence-of-maps?\n    :athens.viewer/fn maps-viewer}\n   {:athens.viewer/id :athens.browser/tuples\n    :athens.viewer/pred tuples?\n    :athens.viewer/fn tuples-viewer}])\n\n\n(def viewer-preference\n  [:athens.browser/maps\n   :athens.browser/map\n   :athens.browser/tuples\n   :athens.browser/coll\n   :athens.browser/edn])\n\n\n(defn applicable-viewers\n  [data]\n  (->> viewers\n       (filter (fn [{:keys [athens.viewer/pred]}] (pred data)))\n       (map :athens.viewer/id)\n       (sort-by #(.indexOf viewer-preference %))))\n\n\n(def indexed-viewers\n  (->> viewers\n       (map (juxt :athens.viewer/id identity))\n       (into {})))\n\n\n(defn data-browser\n  [_]\n  (let [state (r/atom {:navs []})]\n    (fn [data]\n      (let [navs (:navs @state)\n            add-nav! #(swap! state update :navs conj %)\n            navved-data (reduce (fn [d [k v]] (nav (datafy d) k v))\n                                data\n                                navs)\n            datafied-data (datafy navved-data)\n            applicable-vs (applicable-viewers datafied-data)\n            viewer-name (or (:viewer @state) (first applicable-vs))\n            viewer (get-in indexed-viewers [viewer-name :athens.viewer/fn])]\n        [:div\n         [:div {:style {:display \"flex\"\n                        :flex-direction \"row\"\n                        :flex-wrap \"no-wrap\"\n                        :align-items \"stretch\"\n                        :justify-content \"space-between\"}}\n          [:div (use-style current-location-style)\n           (doall\n             (for [i (-> navs count range)]\n               (let [nav (get navs i)]\n                 ^{:key i}\n                 [button {:style {:padding \"0.125rem 0.25rem\"}\n                          :on-click #(swap! state (fn [s]\n                                                    (-> s\n                                                        (update :navs subvec 0 i)\n                                                        (dissoc :viewer))))}\n                  [:<> [:> mui-icons/ChevronLeft] [:span (first nav)]]])))\n           [:h3 (use-style current-location-name-style) (pr-str (type navved-data))]\n           [:div (use-style current-location-controls-style)\n            [:span \"View as \"]\n            (for [v applicable-vs]\n              (let [click-fn #(swap! state assoc :viewer v)]\n                ^{:key v}\n                [button {:on-click click-fn\n                         :active (= v viewer-name)}\n                 (name v)]))]]]\n         (when (d/db? navved-data)\n           [button {:on-click #(restore-db! navved-data)\n                    :primary true}\n            \"Restore this db\"])\n         [viewer datafied-data add-nav!]]))))\n\n\n(defn handler\n  []\n  (let [n (inc (:max-eid @dsdb))\n        n-child (inc n)]\n    (d/transact! dsdb [{:node/title     (str \"Test Page \" n)\n                        :block/uid      (str \"uid-\" n)\n                        :block/children [{:block/string (str \"Test Block\" n-child) :block/uid (str \"uid-\" n-child)}]}])))\n\n\n(defn eval-with-sci\n  [{:keys [eval-str] :as state}]\n  (let [bindings {'athens/db dsdb\n                  'd/pull d/pull\n                  'd/q d/q\n                  'd/pull-many d/pull-many\n                  'd/entity d/entity}\n        [ok? result] (try\n                       [true (sci/eval-string eval-str {:bindings bindings})]\n                       (catch js/Error e [false e]))]\n    (-> state\n        (assoc :result result)\n        (assoc :error (not ok?)))))\n\n\n(defn eval-box!\n  []\n  (swap! state* eval-with-sci))\n\n\n(defn update-box!\n  [s]\n  (swap! state* assoc :eval-str s))\n\n\n(defn listener\n  [tx-report]\n  #_(swap! state* update :tx-reports conj tx-report)\n  (when (not (:error @state*))\n    (eval-box!)))\n\n\n#_(d/listen! dsdb :devtool/open listener)\n\n\n(defn handle-box-change!\n  [e]\n  (update-box! (-> e .-target .-value)))\n\n\n(defn handle-shift-return!\n  [e]\n  (.preventDefault e)\n  (eval-box!))\n\n\n(defn insert-tab\n  [s pos]\n  (str (subs s 0 pos) \"  \" (subs s pos)))\n\n\n(defn handle-tab-key!\n  [e]\n  (let [t (.-target e)\n        v (.-value t)\n        pos (.-selectionStart t)]\n    (.preventDefault e)\n    (update-box! (insert-tab v pos))\n    (set! (.-selectionEnd t) (+ 2 pos))))\n\n\n(defn handle-box-key-down!\n  [e]\n  (let [key (.. e -keyCode)\n        shift? (.. e -shiftKey)]\n    (cond\n      (= key KeyCodes.ENTER) (when shift? (handle-shift-return! e))\n      (= key KeyCodes.TAB) (handle-tab-key! e)\n      :else nil)))\n\n\n(defn error-component\n  [error]\n  [:div {:style {:color \"red\"}}\n   (str error)])\n\n\n(defn query-component\n  [{:keys [eval-str result error]}]\n  [:div (use-style {:height \"100%\"})\n   [autosize/textarea (use-style query-input-style\n                                 {:value eval-str\n                                  :resize \"none\"\n                                  :on-change handle-box-change!\n                                  :on-key-down handle-box-key-down!})]\n   (if-not error\n     [data-browser result]\n     [error-component result])])\n\n\n(defn txes-component\n  [{:keys [tx-reports]}]\n  [data-browser tx-reports])\n\n\n(defn devtool-prompt-el\n  []\n  [button {:on-click #(dispatch [:devtool/toggle])\n           :primary true\n           :style {:font-size \"11px\"}}\n   [:<>\n    [:> mui-icons/Build]\n    [:span \"Toggle devtool\"]]])\n\n\n(defn devtool-close-el\n  []\n  [button {:on-click #(dispatch [:devtool/toggle])}\n   [:> mui-icons/Clear]])\n\n\n(defn devtool-el\n  [devtool? state]\n  (when devtool?\n    (let [{:keys [active-panel]} @state\n          switch-panel (fn [panel] (swap! state assoc :active-panel panel))]\n      [:div (use-style container-style)\n       [:nav (use-style tabs-style)\n        [:div (use-style tabs-section-style)\n         [button {:on-click #(switch-panel :query)\n                  :active (= active-panel :query)}\n          [:<> [:> mui-icons/ShortText] [:span \"Query\"]]]\n         [button {:on-click #(switch-panel :txes)\n                  :active (= active-panel :txes)}]\n         [:<> [:> mui-icons/History] [:span \"Transactions\"]]]\n        [devtool-close-el]]\n       [:div (use-style panels-style)\n        (case active-panel\n          :query [query-component @state]\n          :txes [txes-component @state])]])))\n\n\n(defn devtool-component\n  []\n  (let [devtool? @(subscribe [:devtool/open])]\n    [devtool-el devtool? state*]))\n"]}